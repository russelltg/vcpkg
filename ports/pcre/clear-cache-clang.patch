diff --git a/sljit/sljitConfigInternal.h b/sljit/sljitConfigInternal.h
index acba9da..db213a1 100644
--- a/sljit/sljitConfigInternal.h
+++ b/sljit/sljitConfigInternal.h
@@ -283,6 +283,12 @@
 /* Instruction cache flush. */
 /****************************/
 
+#if (!defined SLJIT_CACHE_FLUSH && defined __APPLE__)
+void sys_icache_invalidate(void *start, size_t len);
+#define SLJIT_CACHE_FLUSH(from, to) \
+	sys_icache_invalidate((char*)from, (char*)to - (char*)from)
+#endif // (!defined SLJIT_CACHE_FLUSH && defined __clang__)
+
 #if (!defined SLJIT_CACHE_FLUSH && defined __has_builtin)
 #if __has_builtin(__builtin___clear_cache)
 
